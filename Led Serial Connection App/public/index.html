<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>White Queen LED Controls</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic">
    <link rel="stylesheet" href="/angular/angular-material.css" />
    <link href="/angular/v-accordion.css" rel="stylesheet" />
    <link rel="stylesheet" href="/styles/css/main.css" />
</head>
<body ng-app="wqLed">
    <div layout="row" layout-fill>
        <md-card layout="column" class="ledctrl" ng-controller="SideNavController as snav" flex-offset-gt-xs="5" flex="auto">
            <!--Toolbar-->
            <md-toolbar class="ledctrlhead" layout="row" layout-align="space-between center">
                <div class="md-toolbar-tools">
                    <md-button ng-click="snav.toggleLeft()" class="md-icon-button" ng-show="snav.comList.checkPortSet()">
                        <ng-md-icon icon="{{snav.leftNavIcon}}" style="fill: #ffffff;" size="32" options='{"duration": 300, "rotation": "clock", "easing":"quint-in-out"}'></ng-md-icon>
                    </md-button>
                    <span flex></span>
                    <md-button ng-click="snav.toggleRight()" class="md-icon-button" ng-show="snav.comList.checkPortSet()">
                        <ng-md-icon icon="{{snav.rightNavIcon}}" style="fill: #ffffff;" size="32" options='{"duration": 300, "rotation": "clock", "easing":"quint-in-out"}'></ng-md-icon>
                    </md-button>
                </div>
            </md-toolbar>

            <!--Content Wrapper-->
            <md-content layout="row" ng-controller="SocketCommunicationController as led" flex>
                <!--Left SideNav-->
                <md-sidenav md-component-id="left" class="md-sidenav-left">
                    <md-card>
                        <md-card-header>
                            <md-card-header-text>
                                <md-title>
                                    <span>Current settings</span>
                                </md-title>
                            </md-card-header-text>
                        </md-card-header>
                        <md-card-content>
                            <span>SerialPort: {{led.comList.showComPort()}}</span><br />
                            <span>Serial Connected? {{led.sockMsg.checkConnect()}}</span>
                        </md-card-content>
                    </md-card>
                    <md-card>
                        <md-card-content>
                            <div ng-show="led.comList.checkPortSet()">
                                <md-button class="md-raised md-primary md-fab" ng-click="led.sockMsg.toggleConnect()">
                                    <ng-md-icon icon="{{led.sockMsg.connIcon}}" style="fill: #ffffff;" options='{"duration": 750, "rotation": "none", "easing":"quint-in-out"}'></ng-md-icon>
                                </md-button>
                                <br />
                                <span>Click Here to <span ng-show="led.sockMsg.checkConnect()">dis</span>connect</span>
                            </div>
                            <md-card>
                                <md-card-content>
                                    <span>{{led.sockMsg.getBuffer()}}</span>
                                </md-card-content>
                            </md-card>
                        </md-card-content>
                    </md-card>
                </md-sidenav>
                <!--Right SideNav-->

                <md-sidenav class="md-sidenav-right md-whiteframe-4dp" md-component-id="right" md-disable-backdrop>
                    <md-content layout-padding>
                        <span>Mode Select</span>
                        <md-divider></md-divider>
                        <!-- add `multiple` attribute to allow multiple sections to open at once -->
                        <v-accordion class="vAccordion--default">


                            <!-- add expanded attribute to open the section -->
                            <v-pane layout="column" ng-repeat="group in snav.modeList.groups" expanded="group.isExpanded">
                                <v-pane-header flex>
                                    {{group.title}}
                                </v-pane-header>
                                <v-pane-content>
                                    <div>
                                        <div layout="column" class="modeSelPanel">
                                            <md-radio-group ng-model="snav.modeList.selectedMode" ng-change="snav.sockMsg.modeChg(snav.modeList.selectedMode.code)" >
                                                <div ng-repeat="mode in group.modes" class="row">
                                                    <div flex layout="row" layout-padding layout-align="start center">
                                                        
                                                        <md-radio-button ng-value="mode" flex class="md-primary">
                                                            <ng-md-icon icon="{{mode.icon.name}}" ng-style="{'fill': '{{mode.icon.fill}}'}" flex></ng-md-icon>
                                                            {{mode.name}}
                                                            <span> - {{mode.desc}}</span>
                                                        </md-radio-button>
                                                    </div>                                                    
                                                </div>
                                            </md-radio-group>
                                        </div>
                                    </div>
                                </v-pane-content>
                            </v-pane>
                        </v-accordion>
                    </md-content>
                </md-sidenav>
                <!--/Right SideNav-->
                <!--Main Content-->
                <md-content layout="column" flex>
                    <div class="notif-banner">
                        <ng-md-icon icon="arrow_back" style="fill: #ffffff;" size="36"></ng-md-icon>
                        <div class="bannerMsg" flex>
                            <div class="bigMsg">White Queen</div>
                            <div class="lilMsg">Photon Control Panel</div><br />
                            <div class="lilMsg">Check Settings on the left. Select a mode on the Right. </div>

                        </div>
                        <ng-md-icon icon="arrow_forward" style="fill: #ffffff;" size="36"></ng-md-icon>
                    </div>
                    <div class="consoleBar">Console: {{led.sockMsg.getBuffer()}}</div>
                    <md-content layout="column" flex>
                        <div ng-hide="led.comList.checkPortSet()" ng-controller="PortSelectController as pc" flex>
                            <span style="color: red;">Com Port is not set. </span>
                            <md-button class="md-primary md-raised" ng-click="pc.showComSelect($event)">
                                Click here to set the port.
                            </md-button>
                        </div>

                        <div flex ng-show="led.sockMsg.checkConnect()">
                            Current Mode:
                            {{snav.modeList.selectedMode.name}}

                            <ul ng-repeat="control in snav.modeList.selectedMode.controls">
                                <li>
                                    {{control.name}}:
                                    {{control.isAvail}}
                                </li>
                            </ul>
                        </div>
                    </md-content>
                </md-content>
                <!--/Main Content-->

            </md-content>
        </md-card>
        <span hide-sm flex="25"></span>
    </div>
    <script src="/io/socket.io.js"></script>
    <script src="/angular/svg-morpheus.js"></script>
    <script src="/angular/angular.js"></script>
    <script src="/angular/angular-ui-router.js"></script>
    <script src="/angular/angular-animate.js"></script>
    <script src="/angular/angular-aria.js"></script>
    <script src="/angular/angular-messages.js"></script>
    <script src="/angular/v-accordion.js"></script>
    <script src="/angular/socket.js"></script>
    <script src="/angular/angular-material.js"></script>
    <script src="/angular/angular-material-icons.js"></script>
    <script src="/scripts/app.js"></script>
    <script src="/scripts/filters/modeoptionfilter.js"></script>
    <script src="/scripts/services/serialportfactory.js"></script>
    <script src="/scripts/services/socketfactory.js"></script>
    <script src="/scripts/services/socketmsgfactory.js"></script>
    <script src="/scripts/services/modefactory.js"></script>
    <script src="/scripts/controllers/socketcommcontroller.js"></script>
    <script src="/scripts/controllers/sidenavcontroller.js"></script>
    <script src="/scripts/controllers/portselectcontroller.js"></script>
    <script src="/scripts/objects/controlrouteconfig.js"></script>
    <script src="/scripts/objects/modelist.js"></script>

</body>
</html>